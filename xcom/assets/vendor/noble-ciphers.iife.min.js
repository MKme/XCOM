var NobleCiphers=(()=>{var et=Object.defineProperty;var Ut=Object.getOwnPropertyDescriptor;var At=Object.getOwnPropertyNames;var Bt=Object.prototype.hasOwnProperty;var Et=(e,t)=>{for(var i in t)et(e,i,{get:t[i],enumerable:!0})},Ot=(e,t,i,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let f of At(t))!Bt.call(e,f)&&f!==i&&et(e,f,{get:()=>t[f],enumerable:!(n=Ut(t,f))||n.enumerable});return e};var _t=e=>Ot(et({},"__esModule",{value:!0}),e);var Ft={};Et(Ft,{chacha20poly1305:()=>Lt,xchacha20poly1305:()=>mt});function Tt(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function X(e){if(typeof e!="boolean")throw new Error(`boolean expected, not ${e}`)}function D(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function H(e,t,i=""){let n=Tt(e),f=e?.length,o=t!==void 0;if(!n||o&&f!==t){let s=i&&`"${i}" `,r=o?` of length ${t}`:"",h=n?`length=${f}`:`type=${typeof e}`;throw new Error(s+"expected Uint8Array"+r+", got "+h)}return e}function nt(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function ct(e,t){H(e,void 0,"output");let i=t.outputLen;if(e.length<i)throw new Error("digestInto() expects output buffer of length at least "+i)}function k(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function F(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}function Ct(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}var It=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function ht(e,t){if(t==null||typeof t!="object")throw new Error("options must be defined");return Object.assign(e,t)}function at(e,t){if(e.length!==t.length)return!1;let i=0;for(let n=0;n<e.length;n++)i|=e[n]^t[n];return i===0}var rt=(e,t)=>{function i(n,...f){if(H(n,void 0,"key"),!It)throw new Error("Non little-endian hardware is not yet supported");if(e.nonceLength!==void 0){let a=f[0];H(a,e.varSizeNonce?void 0:e.nonceLength,"nonce")}let o=e.tagLength;o&&f[1]!==void 0&&H(f[1],void 0,"AAD");let s=t(n,...f),r=(a,u)=>{if(u!==void 0){if(a!==2)throw new Error("cipher output not supported");H(u,void 0,"output")}},h=!1;return{encrypt(a,u){if(h)throw new Error("cannot encrypt() twice with same key + nonce");return h=!0,H(a),r(s.encrypt.length,u),s.encrypt(a,u)},decrypt(a,u){if(H(a),o&&a.length<o)throw new Error('"ciphertext" expected length bigger than tagLength='+o);return r(s.decrypt.length,u),s.decrypt(a,u)}}}return Object.assign(i,e),i};function ot(e,t,i=!0){if(t===void 0)return new Uint8Array(e);if(t.length!==e)throw new Error('"output" expected Uint8Array of length '+e+", got: "+t.length);if(i&&!Rt(t))throw new Error("invalid output, must be aligned");return t}function lt(e,t,i){X(i);let n=new Uint8Array(16),f=Ct(n);return f.setBigUint64(0,BigInt(t),i),f.setBigUint64(8,BigInt(e),i),n}function Rt(e){return e.byteOffset%4===0}function J(e){return Uint8Array.from(e)}var pt=e=>Uint8Array.from(e.split(""),t=>t.charCodeAt(0)),Nt=pt("expand 16-byte k"),vt=pt("expand 32-byte k"),St=k(Nt),Ht=k(vt);function c(e,t){return e<<t|e>>>32-t}function ft(e){return e.byteOffset%4===0}var tt=64,Kt=16,yt=2**32-1,ut=Uint32Array.of();function Pt(e,t,i,n,f,o,s,r){let h=f.length,p=new Uint8Array(tt),a=k(p),u=ft(f)&&ft(o),w=u?k(f):ut,x=u?k(o):ut;for(let g=0;g<h;s++){if(e(t,i,n,a,s,r),s>=yt)throw new Error("arx: counter overflow");let d=Math.min(tt,h-g);if(u&&d===tt){let y=g/4;if(g%4!==0)throw new Error("arx: invalid block position");for(let b=0,L;b<Kt;b++)L=y+b,x[L]=w[L]^a[b];g+=tt;continue}for(let y=0,b;y<d;y++)b=g+y,o[b]=f[b]^p[y];g+=d}}function st(e,t){let{allowShortKeys:i,extendNonceFn:n,counterLength:f,counterRight:o,rounds:s}=ht({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},t);if(typeof e!="function")throw new Error("core must be a function");return D(f),D(s),X(o),X(i),(r,h,p,a,u=0)=>{H(r,void 0,"key"),H(h,void 0,"nonce"),H(p,void 0,"data");let w=p.length;if(a===void 0&&(a=new Uint8Array(w)),H(a,void 0,"output"),D(u),u<0||u>=yt)throw new Error("arx: counter overflow");if(a.length<w)throw new Error(`arx: output (${a.length}) is shorter than data (${w})`);let x=[],g=r.length,d,y;if(g===32)x.push(d=J(r)),y=Ht;else if(g===16&&i)d=new Uint8Array(32),d.set(r),d.set(r,16),y=St,x.push(d);else throw H(r,32,"arx key"),new Error("invalid key size");ft(h)||x.push(h=J(h));let b=k(d);if(n){if(h.length!==24)throw new Error("arx: extended nonce must be 24 bytes");n(y,b,k(h.subarray(0,16)),b),h=h.subarray(16)}let L=16-f;if(L!==h.length)throw new Error(`arx: nonce must be ${L} or 16 bytes`);if(L!==12){let K=new Uint8Array(12);K.set(h,o?0:12-h.length),h=K,x.push(h)}let v=k(h);return Pt(e,y,b,v,p,a,u,s),F(...x),a}}function P(e,t){return e[t++]&255|(e[t++]&255)<<8}var it=class{blockLen=16;outputLen=16;buffer=new Uint8Array(16);r=new Uint16Array(10);h=new Uint16Array(10);pad=new Uint16Array(8);pos=0;finished=!1;constructor(t){t=J(H(t,32,"key"));let i=P(t,0),n=P(t,2),f=P(t,4),o=P(t,6),s=P(t,8),r=P(t,10),h=P(t,12),p=P(t,14);this.r[0]=i&8191,this.r[1]=(i>>>13|n<<3)&8191,this.r[2]=(n>>>10|f<<6)&7939,this.r[3]=(f>>>7|o<<9)&8191,this.r[4]=(o>>>4|s<<12)&255,this.r[5]=s>>>1&8190,this.r[6]=(s>>>14|r<<2)&8191,this.r[7]=(r>>>11|h<<5)&8065,this.r[8]=(h>>>8|p<<8)&8191,this.r[9]=p>>>5&127;for(let a=0;a<8;a++)this.pad[a]=P(t,16+2*a)}process(t,i,n=!1){let f=n?0:2048,{h:o,r:s}=this,r=s[0],h=s[1],p=s[2],a=s[3],u=s[4],w=s[5],x=s[6],g=s[7],d=s[8],y=s[9],b=P(t,i+0),L=P(t,i+2),v=P(t,i+4),K=P(t,i+6),z=P(t,i+8),j=P(t,i+10),M=P(t,i+12),$=P(t,i+14),m=o[0]+(b&8191),U=o[1]+((b>>>13|L<<3)&8191),A=o[2]+((L>>>10|v<<6)&8191),B=o[3]+((v>>>7|K<<9)&8191),E=o[4]+((K>>>4|z<<12)&8191),O=o[5]+(z>>>1&8191),_=o[6]+((z>>>14|j<<2)&8191),T=o[7]+((j>>>11|M<<5)&8191),C=o[8]+((M>>>8|$<<8)&8191),I=o[9]+($>>>5|f),l=0,N=l+m*r+U*(5*y)+A*(5*d)+B*(5*g)+E*(5*x);l=N>>>13,N&=8191,N+=O*(5*w)+_*(5*u)+T*(5*a)+C*(5*p)+I*(5*h),l+=N>>>13,N&=8191;let S=l+m*h+U*r+A*(5*y)+B*(5*d)+E*(5*g);l=S>>>13,S&=8191,S+=O*(5*x)+_*(5*w)+T*(5*u)+C*(5*a)+I*(5*p),l+=S>>>13,S&=8191;let R=l+m*p+U*h+A*r+B*(5*y)+E*(5*d);l=R>>>13,R&=8191,R+=O*(5*g)+_*(5*x)+T*(5*w)+C*(5*u)+I*(5*a),l+=R>>>13,R&=8191;let V=l+m*a+U*p+A*h+B*r+E*(5*y);l=V>>>13,V&=8191,V+=O*(5*d)+_*(5*g)+T*(5*x)+C*(5*w)+I*(5*u),l+=V>>>13,V&=8191;let q=l+m*u+U*a+A*p+B*h+E*r;l=q>>>13,q&=8191,q+=O*(5*y)+_*(5*d)+T*(5*g)+C*(5*x)+I*(5*w),l+=q>>>13,q&=8191;let W=l+m*w+U*u+A*a+B*p+E*h;l=W>>>13,W&=8191,W+=O*r+_*(5*y)+T*(5*d)+C*(5*g)+I*(5*x),l+=W>>>13,W&=8191;let Z=l+m*x+U*w+A*u+B*a+E*p;l=Z>>>13,Z&=8191,Z+=O*h+_*r+T*(5*y)+C*(5*d)+I*(5*g),l+=Z>>>13,Z&=8191;let G=l+m*g+U*x+A*w+B*u+E*a;l=G>>>13,G&=8191,G+=O*p+_*h+T*r+C*(5*y)+I*(5*d),l+=G>>>13,G&=8191;let Q=l+m*d+U*g+A*x+B*w+E*u;l=Q>>>13,Q&=8191,Q+=O*a+_*p+T*h+C*r+I*(5*y),l+=Q>>>13,Q&=8191;let Y=l+m*y+U*d+A*g+B*x+E*w;l=Y>>>13,Y&=8191,Y+=O*u+_*a+T*p+C*h+I*r,l+=Y>>>13,Y&=8191,l=(l<<2)+l|0,l=l+N|0,N=l&8191,l=l>>>13,S+=l,o[0]=N,o[1]=S,o[2]=R,o[3]=V,o[4]=q,o[5]=W,o[6]=Z,o[7]=G,o[8]=Q,o[9]=Y}finalize(){let{h:t,pad:i}=this,n=new Uint16Array(10),f=t[1]>>>13;t[1]&=8191;for(let r=2;r<10;r++)t[r]+=f,f=t[r]>>>13,t[r]&=8191;t[0]+=f*5,f=t[0]>>>13,t[0]&=8191,t[1]+=f,f=t[1]>>>13,t[1]&=8191,t[2]+=f,n[0]=t[0]+5,f=n[0]>>>13,n[0]&=8191;for(let r=1;r<10;r++)n[r]=t[r]+f,f=n[r]>>>13,n[r]&=8191;n[9]-=8192;let o=(f^1)-1;for(let r=0;r<10;r++)n[r]&=o;o=~o;for(let r=0;r<10;r++)t[r]=t[r]&o|n[r];t[0]=(t[0]|t[1]<<13)&65535,t[1]=(t[1]>>>3|t[2]<<10)&65535,t[2]=(t[2]>>>6|t[3]<<7)&65535,t[3]=(t[3]>>>9|t[4]<<4)&65535,t[4]=(t[4]>>>12|t[5]<<1|t[6]<<14)&65535,t[5]=(t[6]>>>2|t[7]<<11)&65535,t[6]=(t[7]>>>5|t[8]<<8)&65535,t[7]=(t[8]>>>8|t[9]<<5)&65535;let s=t[0]+i[0];t[0]=s&65535;for(let r=1;r<8;r++)s=(t[r]+i[r]|0)+(s>>>16)|0,t[r]=s&65535;F(n)}update(t){nt(this),H(t),t=J(t);let{buffer:i,blockLen:n}=this,f=t.length;for(let o=0;o<f;){let s=Math.min(n-this.pos,f-o);if(s===n){for(;n<=f-o;o+=n)this.process(t,o);continue}i.set(t.subarray(o,o+s),this.pos),this.pos+=s,o+=s,this.pos===n&&(this.process(i,0,!1),this.pos=0)}return this}destroy(){F(this.h,this.r,this.buffer,this.pad)}digestInto(t){nt(this),ct(t,this),this.finished=!0;let{buffer:i,h:n}=this,{pos:f}=this;if(f){for(i[f++]=1;f<16;f++)i[f]=0;this.process(i,0,!0)}this.finalize();let o=0;for(let s=0;s<8;s++)t[o++]=n[s]>>>0,t[o++]=n[s]>>>8;return t}digest(){let{buffer:t,outputLen:i}=this;this.digestInto(t);let n=t.slice(0,i);return this.destroy(),n}};function jt(e){let t=(n,f)=>e(f).update(n).digest(),i=e(new Uint8Array(32));return t.outputLen=i.outputLen,t.blockLen=i.blockLen,t.create=n=>e(n),t}var gt=jt(e=>new it(e));function wt(e,t,i,n,f,o=20){let s=e[0],r=e[1],h=e[2],p=e[3],a=t[0],u=t[1],w=t[2],x=t[3],g=t[4],d=t[5],y=t[6],b=t[7],L=f,v=i[0],K=i[1],z=i[2],j=s,M=r,$=h,m=p,U=a,A=u,B=w,E=x,O=g,_=d,T=y,C=b,I=L,l=v,N=K,S=z;for(let V=0;V<o;V+=2)j=j+U|0,I=c(I^j,16),O=O+I|0,U=c(U^O,12),j=j+U|0,I=c(I^j,8),O=O+I|0,U=c(U^O,7),M=M+A|0,l=c(l^M,16),_=_+l|0,A=c(A^_,12),M=M+A|0,l=c(l^M,8),_=_+l|0,A=c(A^_,7),$=$+B|0,N=c(N^$,16),T=T+N|0,B=c(B^T,12),$=$+B|0,N=c(N^$,8),T=T+N|0,B=c(B^T,7),m=m+E|0,S=c(S^m,16),C=C+S|0,E=c(E^C,12),m=m+E|0,S=c(S^m,8),C=C+S|0,E=c(E^C,7),j=j+A|0,S=c(S^j,16),T=T+S|0,A=c(A^T,12),j=j+A|0,S=c(S^j,8),T=T+S|0,A=c(A^T,7),M=M+B|0,I=c(I^M,16),C=C+I|0,B=c(B^C,12),M=M+B|0,I=c(I^M,8),C=C+I|0,B=c(B^C,7),$=$+E|0,l=c(l^$,16),O=O+l|0,E=c(E^O,12),$=$+E|0,l=c(l^$,8),O=O+l|0,E=c(E^O,7),m=m+U|0,N=c(N^m,16),_=_+N|0,U=c(U^_,12),m=m+U|0,N=c(N^m,8),_=_+N|0,U=c(U^_,7);let R=0;n[R++]=s+j|0,n[R++]=r+M|0,n[R++]=h+$|0,n[R++]=p+m|0,n[R++]=a+U|0,n[R++]=u+A|0,n[R++]=w+B|0,n[R++]=x+E|0,n[R++]=g+O|0,n[R++]=d+_|0,n[R++]=y+T|0,n[R++]=b+C|0,n[R++]=L+I|0,n[R++]=v+l|0,n[R++]=K+N|0,n[R++]=z+S|0}function Mt(e,t,i,n){let f=e[0],o=e[1],s=e[2],r=e[3],h=t[0],p=t[1],a=t[2],u=t[3],w=t[4],x=t[5],g=t[6],d=t[7],y=i[0],b=i[1],L=i[2],v=i[3];for(let z=0;z<20;z+=2)f=f+h|0,y=c(y^f,16),w=w+y|0,h=c(h^w,12),f=f+h|0,y=c(y^f,8),w=w+y|0,h=c(h^w,7),o=o+p|0,b=c(b^o,16),x=x+b|0,p=c(p^x,12),o=o+p|0,b=c(b^o,8),x=x+b|0,p=c(p^x,7),s=s+a|0,L=c(L^s,16),g=g+L|0,a=c(a^g,12),s=s+a|0,L=c(L^s,8),g=g+L|0,a=c(a^g,7),r=r+u|0,v=c(v^r,16),d=d+v|0,u=c(u^d,12),r=r+u|0,v=c(v^r,8),d=d+v|0,u=c(u^d,7),f=f+p|0,v=c(v^f,16),g=g+v|0,p=c(p^g,12),f=f+p|0,v=c(v^f,8),g=g+v|0,p=c(p^g,7),o=o+a|0,y=c(y^o,16),d=d+y|0,a=c(a^d,12),o=o+a|0,y=c(y^o,8),d=d+y|0,a=c(a^d,7),s=s+u|0,b=c(b^s,16),w=w+b|0,u=c(u^w,12),s=s+u|0,b=c(b^s,8),w=w+b|0,u=c(u^w,7),r=r+h|0,L=c(L^r,16),x=x+L|0,h=c(h^x,12),r=r+h|0,L=c(L^r,8),x=x+L|0,h=c(h^x,7);let K=0;n[K++]=f,n[K++]=o,n[K++]=s,n[K++]=r,n[K++]=y,n[K++]=b,n[K++]=L,n[K++]=v}var $t=st(wt,{counterRight:!1,counterLength:4,allowShortKeys:!1}),zt=st(wt,{counterRight:!1,counterLength:8,extendNonceFn:Mt,allowShortKeys:!1});var Vt=new Uint8Array(16),dt=(e,t)=>{e.update(t);let i=t.length%16;i&&e.update(Vt.subarray(i))},kt=new Uint8Array(32);function xt(e,t,i,n,f){f!==void 0&&H(f,void 0,"AAD");let o=e(t,i,kt),s=lt(n.length,f?f.length:0,!0),r=gt.create(o);f&&dt(r,f),dt(r,n),r.update(s);let h=r.digest();return F(o,s),h}var bt=e=>(t,i,n)=>({encrypt(o,s){let r=o.length;s=ot(r+16,s,!1),s.set(o);let h=s.subarray(0,-16);e(t,i,h,h,1);let p=xt(e,t,i,h,n);return s.set(p,r),F(p),s},decrypt(o,s){s=ot(o.length-16,s,!1);let r=o.subarray(0,-16),h=o.subarray(-16),p=xt(e,t,i,r,n);if(!at(h,p))throw new Error("invalid tag");return s.set(o.subarray(0,-16)),e(t,i,s,s,1),F(p),s}}),Lt=rt({blockSize:64,nonceLength:12,tagLength:16},bt($t)),mt=rt({blockSize:64,nonceLength:24,tagLength:16},bt(zt));return _t(Ft);})();
/*! Bundled license information:

@noble/ciphers/utils.js:
  (*! noble-ciphers - MIT License (c) 2023 Paul Miller (paulmillr.com) *)
*/
